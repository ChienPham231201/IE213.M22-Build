"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[434],{3434:function(e,s,n){n.r(s),n.d(s,{default:function(){return Z}});var a,r=n(5861),t=n(9439),i=n(7757),o=n.n(i),d=n(4376),l=n(570),m=n(9389),c=n(2014),u=n(7309),p=n(2791),h=n(6871),g=n(168),f=(0,n(7570).Ps)(a||(a=(0,g.Z)(["\nmutation LoginAdmin($username: String!, $password: String!){\n    adminLogin(username: $username, password: $password){\n      status\n      success\n      message\n      data{\n        username\n        password\n      }\n      accessToken\n    }\n  }\n  "]))),w=n(3465),x=n(53),b=n(184);var Z=function(){var e=(0,h.s0)(),s=(0,w.Eu)(),n=s.setIsAuthenticated,a=s.setIsAdmin,i=s.isAdmin,g=(s.isAuthenticated,(0,d.D)(f)),Z=(0,t.Z)(g,2),j=Z[0],v=Z[1],k=(v.data,v.loading,v.error,(0,p.useState)("")),y=(0,t.Z)(k,2),C=y[0],I=y[1];(0,p.useEffect)((function(){i&&e("/dashboard")}),[i,e]);var A=function(){var s=(0,r.Z)(o().mark((function s(r){var t,i,d;return o().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,j({variables:{username:r.username,password:r.password}});case 2:i=s.sent,null!==(t=i.data)&&void 0!==t&&t.adminLogin.success?(x.Z.setToken(i.data.adminLogin.accessToken),n(!0),a(!0),e("/dashboard")):null!==(d=i.data)&&void 0!==d&&d.adminLogin.message&&I(i.data.adminLogin.message);case 4:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}();return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)(l.Z,{name:"basic",labelCol:{span:8},wrapperCol:{span:16},initialValues:{remember:!0},onFinish:A,autoComplete:"off",style:{height:"20%",width:"40%",position:"absolute",top:"20%",left:"25%"},children:[(0,b.jsx)(l.Z.Item,{name:"logo",children:(0,b.jsx)("img",{src:"https://senshop.tech/static/media/logo.bc588d992055212e8997a878ac242940.svg",alt:"logo",className:"admin_logo",style:{width:"80%",position:"relative",left:"50%"}})}),C&&(0,b.jsx)("p",{style:{color:"red",textAlign:"center",fontSize:"20px"},children:C}),(0,b.jsx)(l.Z.Item,{label:"Username",name:"username",rules:[{required:!0,message:"Username kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng!"}],children:(0,b.jsx)(m.Z,{})}),(0,b.jsx)(l.Z.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Password kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng!"}],children:(0,b.jsx)(m.Z.Password,{})}),(0,b.jsx)(l.Z.Item,{name:"remember",valuePropName:"checked",wrapperCol:{offset:8,span:16},children:(0,b.jsx)(c.Z,{children:"Remember me"})}),(0,b.jsx)(l.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,b.jsx)(u.Z,{type:"primary",htmlType:"submit",children:"Submit"})})]})})}}}]);
//# sourceMappingURL=434.d105dfcc.chunk.js.map