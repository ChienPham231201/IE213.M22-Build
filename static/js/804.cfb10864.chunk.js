/*! For license information please see 804.cfb10864.chunk.js.LICENSE.txt */
(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[804],{6007:function(e,t,n){"use strict";n.d(t,{Z:function(){return S}});var r=n(9439),a=n(7462),i=n(4942),c=n(2791),s=n(1694),l=n.n(s),o=n(9077),d=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},u=function(e){var t=e.actions,n=e.author,r=e.avatar,s=e.children,u=e.className,m=e.content,h=e.prefixCls,p=e.datetime,g=d(e,["actions","author","avatar","children","className","content","prefixCls","datetime"]),x=c.useContext(o.E_),v=x.getPrefixCls,f=x.direction,j=v("comment",h),y=r?c.createElement("div",{className:"".concat(j,"-avatar")},"string"===typeof r?c.createElement("img",{src:r,alt:"comment-avatar"}):r):null,Z=t&&t.length?c.createElement("ul",{className:"".concat(j,"-actions")},t.map((function(e,t){return c.createElement("li",{key:"action-".concat(t)},e)}))):null,_=(n||p)&&c.createElement("div",{className:"".concat(j,"-content-author")},n&&c.createElement("span",{className:"".concat(j,"-content-author-name")},n),p&&c.createElement("span",{className:"".concat(j,"-content-author-time")},p)),N=c.createElement("div",{className:"".concat(j,"-content")},_,c.createElement("div",{className:"".concat(j,"-content-detail")},m),Z),b=l()(j,(0,i.Z)({},"".concat(j,"-rtl"),"rtl"===f),u);return c.createElement("div",(0,a.Z)({},g,{className:b}),c.createElement("div",{className:"".concat(j,"-inner")},y,N),s?function(e,t){return c.createElement("div",{className:l()("".concat(e,"-nested"))},t)}(j,s):null)},m=n(3695),h=n(2649),p=n(7561),g=n(9220),x=n(7309),v=n(6038),f=n(2426),j=n.n(f),y=(n(4197),n(9529)),Z=n(1752),_=n(2622),N=n(3465),b=n(53),T=n(1434),k=n(4871),M=n(6638),P=n(4376),w=n(184);j().locale("vi");var S=function(e){var t,n=e.comment,a=new Date(n.date),i=(0,c.useState)(!1),s=(0,r.Z)(i,2),l=s[0],o=s[1],d=(0,N.Eu)().isAuthenticated,f=(0,c.useState)(null!==(t=n.rating)&&void 0!==t?t:null),S=(0,r.Z)(f,2),Y=S[0],D=S[1],E=(0,P.D)(M.H3),H=(0,r.Z)(E,1)[0],L=(0,P.D)(M.Di),C=(0,r.Z)(L,1)[0];return(0,w.jsx)(u,{author:(0,w.jsx)("a",{children:n.user}),avatar:(0,w.jsx)(h.C,{size:48,icon:(0,w.jsx)(y.Z,{})}),content:(0,w.jsxs)(w.Fragment,{children:[(null===n||void 0===n?void 0:n.rating)&&(0,w.jsx)(p.Z,{onChange:function(e){return D(e)},defaultValue:n.rating,disabled:!l,allowHalf:!0}),(0,w.jsx)("p",{id:"comment-content_".concat(n._id),children:(0,T.decode)(n.content)})]}),datetime:(0,w.jsx)(w.Fragment,{children:(0,w.jsx)(g.Z,{title:j()().format("YYYY-MM-DD HH:mm:ss"),children:(0,w.jsx)("span",{children:j()(a).from(new Date)})})}),actions:[(0,w.jsx)(w.Fragment,{children:d&&b.Z.getUsername()===n.user&&(0,w.jsx)(w.Fragment,{children:l?(0,w.jsx)(x.Z,{onClick:function(){var e,t=document.querySelector("#comment-content_".concat(n._id));""==(null===t||void 0===t?void 0:t.innerHTML)?m.ZP.error("B\u1ea1n ch\u01b0a nh\u1eadp n\u1ed9i dung b\xecnh lu\u1eadn"):H({variables:{_id:n._id,content:null!==(e=null===t||void 0===t?void 0:t.innerHTML)&&void 0!==e?e:"",rating:Y,user:b.Z.getUsername()},onCompleted:function(){null===t||void 0===t||t.setAttribute("contenteditable","false"),m.ZP.success("Updated successfully!"),o(!1)},onError:function(){m.ZP.error("Update error!"),o(!1),null===t||void 0===t||t.setAttribute("contenteditable","false"),void 0!=t&&(t.innerHTML=n.content)}})},type:"primary",children:"L\u01b0u"}):(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(x.Z,{type:"text",icon:(0,w.jsx)(Z.Z,{}),onClick:function(){o(!0);var e=document.querySelector("#comment-content_".concat(n._id));null===e||void 0===e||e.setAttribute("contenteditable","true"),null===e||void 0===e||e.focus()},children:"Ch\u1ec9nh s\u1eeda"}),(0,w.jsx)(v.Z,{title:"B\u1ea1n c\xf3 ch\u1eafc xo\xe1 b\xecnh lu\u1eadn n\xe0y kh\xf4ng",onConfirm:function(){C({variables:{_id:n._id},onCompleted:function(){m.ZP.success("Deleted successfully!")},refetchQueries:n.idProduct?[(0,k.S4)(n.idProduct)]:[(0,k.du)(n.idBlog)],onError:function(){m.ZP.error("Error!")}})},cancelText:"H\u1ee7y",okText:"Xo\xe1",okButtonProps:{danger:!0},children:(0,w.jsx)(x.Z,{type:"text",icon:(0,w.jsx)(_.Z,{}),children:"X\xf3a"})})]})})})]})}},2247:function(e,t,n){"use strict";var r=n(1413),a=n(5861),i=n(9439),c=n(7757),s=n.n(c),l=n(570),o=n(3695),d=n(7561),u=n(9389),m=n(9228),h=n(521),p=n(7309),g=n(4871),x=n(6638),v=n(3465),f=n(2791),j=n(4376),y=n(53),Z=n(184);t.Z=function(e){var t=e.idProduct,n=e.idBlog,c=(0,j.D)(x.fx),_=(0,i.Z)(c,2),N=_[0],b=_[1],T=b.loading,k=(b.error,b.reset),M=(0,f.useState)(0),P=(0,i.Z)(M,2),w=(P[0],P[1]),S=(0,v.Eu)().isAuthenticated,Y=l.Z.useForm(),D=(0,i.Z)(Y,1)[0];function E(){return(E=(0,a.Z)(s().mark((function e(a){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N({variables:(0,r.Z)((0,r.Z)({},a),{},{idProduct:t,idBlog:n,user:y.Z.getUsername()}),refetchQueries:t?[(0,g.S4)(t)]:[(0,g.du)(n)],onCompleted:function(){k(),D.resetFields(["content"]),o.ZP.success({content:"B\xecnh lu\u1eadn \u0111\xe3 \u0111\u01b0\u1ee3c g\u1eedi \u0111i",key:"comment",duration:1})},onError:function(){k(),D.resetFields(),o.ZP.error({content:"B\xecnh lu\u1eadn kh\xf4ng th\xe0nh c\xf4ng",key:"comment",duration:1})}});case 2:e.sent,w((function(e){return e+1})),console.log(JSON.stringify((0,r.Z)((0,r.Z)({},a),{},{idProduct:t,idBlog:n,user:y.Z.getUsername()})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,Z.jsxs)(l.Z,{form:D,onFinish:function(e){o.ZP.loading({content:"\u0110ang g\u1eedi b\xecnh lu\u1eadn",key:"comment"}),function(e){E.apply(this,arguments)}(e)},children:[!!t&&(0,Z.jsx)(l.Z.Item,{name:"rating",initialValue:3,className:"rating-input",children:(0,Z.jsx)(d.Z,{allowHalf:!0})}),(0,Z.jsx)(l.Z.Item,{name:"content",className:"content-input",children:(0,Z.jsx)(u.Z.TextArea,{})}),(0,Z.jsx)(l.Z.Item,{children:(0,Z.jsx)(m.Z,(0,r.Z)((0,r.Z)({content:(0,Z.jsx)(h.Z.Text,{type:"danger",children:"B\u1ea1n ph\u1ea3i \u0111\u0103ng nh\u1eadp \u0111\u1ec3 c\xf3 th\u1ec3 b\xecnh lu\u1eadn"})},S?{visible:!1}:{trigger:"hover"}),{},{children:(0,Z.jsx)(p.Z,{htmlType:"submit",disabled:!S,loading:T,type:"primary",children:"G\u1eedi b\xecnh lu\u1eadn"})}))})]})}},3658:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return q}});var r=n(5861),a=n(9439),i=n(7757),c=n.n(i),s=n(3695),l=n(6106),o=n(914),d=n(6755),u=n(7561),m=n(570),h=n(3231),p=n(8243),g=n(7309),x=n(521),v=n(7661),f=n(2791),j=n(1434),y=n(3504),Z=n(6871),_=n(6007),N=n(2247),b=n(2566),T=n(4376),k=n(2336),M=n(4871),P=n(7382),w=n(4270),S=n(3465),Y=n(1763),D=n(53),E=n(9448),H=n(184),L=function(e){var t,n,i,L,C,I=e.product,q=(0,S.Eu)().isAuthenticated,B=String(D.Z.getUsername()),O=(0,T.D)(Y.iR),F=(0,a.Z)(O,2),V=F[0],A=(F[1],(0,f.useState)()),z=(0,a.Z)(A,2),U=(z[0],z[1]);(0,f.useEffect)((function(){q||(window.localStorage.getItem("products")||window.localStorage.setItem("products","[]"),U(window.localStorage.getItem("products")))}),[q]);var G=(0,f.useState)(1),J=(0,a.Z)(G,2),Q=J[0],W=J[1],X=(0,k.a)((0,M.S4)(I._id)),$=X.loading,K=X.error,R=X.data,ee=null!==(t=(0,Z.UO)().productName)&&void 0!==t?t:"",te=Math.round(I.comments.reduce((function(e,t){return e+t.rating}),0)/I.comments.length*2)/2;(0,f.useEffect)((function(){var e=document.querySelector(".product-quantity-input .ant-input-number-input");e&&(e.value=""+Q,console.log(e.value))}),[Q]);function ne(){return(ne=(0,r.Z)(c().mark((function e(t){var n,r,a,i,l;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(q){e.next=19;break}r={variant:null!==t&&void 0!==t?t:null,_id:I._id,name:I.name,price:null!==(n=I.salePrice)&&void 0!==n?n:I.price,image:I.images[0],quantity:1},a=!1,void 0===(i=JSON.parse(window.localStorage.getItem("products")))[0]&&(r.quantity--,i.push(r)),l=0;case 6:if(!(l<i.length)){e.next=14;break}if(i[l].name!==r.name){e.next=11;break}return i[l].quantity++,a=!0,e.abrupt("break",14);case 11:l++,e.next=6;break;case 14:a||i.push(r),window.localStorage.setItem("products",JSON.stringify(i)),U(window.localStorage.getItem("products")),e.next=21;break;case 19:return e.next=21,V({variables:{username:B,_id:I._id},refetchQueries:[{query:(0,E.Ek)(B)}]});case 21:s.ZP.success("Th\xeam v\xe0o gi\u1ecf h\xe0ng th\xe0nh c\xf4ng");case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsxs)(w.q,{children:[(0,H.jsx)("title",{children:I.name}),(0,H.jsx)("meta",{name:"description",content:I.description}),(0,H.jsx)("link",{rel:"canonical",href:"https://senshop.tech/".concat(ee)}),(0,H.jsx)("meta",{property:"og:type",content:"product"}),(0,H.jsx)("meta",{property:"og:title",content:I.name}),(0,H.jsx)("meta",{property:"og:url",content:"https://senshop.tech/".concat(ee)}),(0,H.jsx)("meta",{property:"og:image",content:I.images[0].url}),(0,H.jsx)("meta",{property:"og:description",content:I.description})]}),(0,H.jsxs)("div",{className:"product-detail",children:[(0,H.jsxs)(l.Z,{gutter:40,className:"product-detail_top",children:[(0,H.jsx)(o.Z,{xl:10,sm:24,className:"product-detail-image",children:(0,H.jsxs)(d.Z.PreviewGroup,{children:[(0,H.jsx)(l.Z,{className:"main-image",children:(0,H.jsx)(d.Z,{src:I.images[0].url,alt:null!==(n=I.images[0].title)&&void 0!==n?n:I.name})}),(0,H.jsx)(l.Z,{gutter:16,justify:"start",className:"sub-image",children:I.images.slice(1,5).map((function(e,t){var n;return(0,H.jsx)(o.Z,{span:6,children:(0,H.jsx)(d.Z,{src:e.url,alt:null!==(n=e.title)&&void 0!==n?n:I.name},t)})}))})]})}),(0,H.jsxs)(o.Z,{xl:14,sm:24,className:"product-detail-info",children:[(0,H.jsx)("div",{className:"product-detail-info-title",children:(0,H.jsx)("h1",{children:I.name})}),(0,H.jsx)("div",{className:"product-detail-info-price",children:I.salePrice?(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)("span",{className:"original-price",children:I.price.toLocaleString("vi-VN",{style:"currency",currency:"VND"})}),(0,H.jsx)("span",{className:"sale-price price",children:I.salePrice.toLocaleString("vi-VN",{style:"currency",currency:"VND"})})]}):(0,H.jsx)("span",{className:"price",children:I.price.toLocaleString("vi-VN",{style:"currency",currency:"VND"})})}),(0,H.jsxs)("div",{className:"product-rating",children:[(0,H.jsx)(u.Z,{disabled:!0,allowHalf:!0,value:0===I.comments.length?5:te}),(0,H.jsxs)("a",{href:"#comment",onClick:function(){var e=document.querySelectorAll(".ant-tabs-tab")[1];e&&e.click()},children:["(",I.comments.length," nh\u1eadn x\xe9t)"]})]}),(0,H.jsx)("div",{className:"product-description",children:I.description}),(0,H.jsxs)(m.Z,{onFinish:function(e){return ne.apply(this,arguments)},children:[I.variant?(0,H.jsxs)("div",{className:"obtional-variant",children:[(null===(i=I.variant)||void 0===i?void 0:i.size.length)>0?(0,H.jsx)(m.Z.Item,{initialValue:I.variant.size[0],label:"K\xedch c\u1ee1:",name:"size",className:"size",children:(0,H.jsx)(h.ZP.Group,{defaultValue:I.variant.size[0],children:I.variant.size.map((function(e){return(0,H.jsx)(h.ZP.Button,{value:e,children:e},e)}))})}):null,(null===(L=I.variant)||void 0===L||null===(C=L.color)||void 0===C?void 0:C.length)>0?(0,H.jsx)(m.Z.Item,{initialValue:I.variant.color[0],label:"M\xe0u s\u1eafc:",name:"color",className:"color",children:(0,H.jsx)(h.ZP.Group,{defaultValue:I.variant.color[0],children:I.variant.color.map((function(e){return(0,H.jsx)(h.ZP.Button,{value:e,children:e},e)}))})}):null]}):null,(0,H.jsx)(m.Z.Item,{label:"S\u1ed1 l\u01b0\u1ee3ng:",className:"product-quantity-section",children:(0,H.jsx)(p.Z,{className:"product-quantity-input",size:"middle",min:1,defaultValue:1,controls:!1,onBlur:function(){return function(){var e=document.querySelector(".product-quantity-input .ant-input-number-input");e&&(parseInt(e.value)>I.stock&&(e.value=I.stock+""),parseInt(e.value)<1&&(e.value="1"),W(parseInt(e.value)))}()},value:Q,addonAfter:(0,H.jsx)("div",{className:"product-quantity-input-addon",onClick:function(){return W((function(e){return e+1>I.stock?e:++e}))},children:"+"}),addonBefore:(0,H.jsx)("div",{className:"product-quantity-input-addon",onClick:function(){return W((function(e){return e-1==0?e:--e}))},children:"-"}),max:0===I.stock?1:I.stock})}),(0,H.jsxs)(m.Z.Item,{className:"button-section",children:[(0,H.jsx)(g.Z,{type:"primary",disabled:0===I.stock,htmlType:"submit",size:"large",children:"Th\xeam V\xe0o Gi\u1ecf H\xe0ng"}),(0,H.jsx)(g.Z,{type:"link",disabled:0===I.stock,size:"large",children:"Mua Ngay"})]}),0===I.stock&&(0,H.jsx)(x.Z.Text,{type:"danger",children:"S\u1ea3n ph\u1ea9m n\xe0y hi\u1ec7n t\u1ea1i \u0111\xe3 h\u1ebft h\xe0ng"})]}),(0,H.jsxs)("div",{className:"category",children:[(0,H.jsx)("span",{children:"Danh m\u1ee5c: "}),I.categories.map((function(e,t,n){var r,a=(0,b.s)(e),i=0==n.length||0==t?"/".concat(null===a||void 0===a?void 0:a.slugName):"/".concat(null===(r=(0,b.s)(n[0]))||void 0===r?void 0:r.slugName,"/").concat(null===a||void 0===a?void 0:a.slugName);return(0,H.jsx)(y.rU,{to:i,children:null===a||void 0===a?void 0:a.name},t)}))]})]})]}),(0,H.jsx)("div",{className:"product-detail-bottom",children:(0,H.jsxs)(v.Z,{type:"card",children:[(0,H.jsx)(v.Z.TabPane,{tab:"Th\xf4ng tin chi ti\u1ebft",children:(0,H.jsx)("div",{className:"product-content",dangerouslySetInnerHTML:{__html:I.content?(0,j.decode)(I.content):"<h1>".concat(I.name,"</h1><p>S\u1ea3n ph\u1ea9m n\xe0y kh\xf4ng c\xf3 m\xf4 t\u1ea3</p>")}})},"1"),(0,H.jsx)(v.Z.TabPane,{tab:"\u0110\xe1nh gi\xe1",children:(0,H.jsxs)("div",{id:"comment",className:"comment-section",children:[(0,H.jsx)(N.Z,{idProduct:I._id}),$?(0,H.jsx)(P.Z,{}):K?"C\xf3 l\u1ed7i x\u1ea3y ra":(0,H.jsx)("div",{className:"comment-list",children:R.getCommentsByProductID.map((function(e){return(0,H.jsx)(_.Z,{comment:e},e._id)}))})]})},"2")]})})]})]})},C=n(6680),I=n(5753);function q(){var e,t=null!==(e=(0,Z.UO)().productName)&&void 0!==e?e:"",n=(0,k.a)((0,I.$A)(t)),r=n.loading,a=n.error,i=n.data;return a?(0,H.jsx)(C.Z,{}):(0,H.jsx)("div",{className:"detail",children:r?(0,H.jsx)(P.Z,{}):i.getProductByName?(0,H.jsx)(H.Fragment,{children:(0,H.jsx)(L,{product:i.getProductByName})}):(0,H.jsx)(C.Z,{})})}},4197:function(e,t,n){!function(e){"use strict";e.defineLocale("vi",{months:"th\xe1ng 1_th\xe1ng 2_th\xe1ng 3_th\xe1ng 4_th\xe1ng 5_th\xe1ng 6_th\xe1ng 7_th\xe1ng 8_th\xe1ng 9_th\xe1ng 10_th\xe1ng 11_th\xe1ng 12".split("_"),monthsShort:"Thg 01_Thg 02_Thg 03_Thg 04_Thg 05_Thg 06_Thg 07_Thg 08_Thg 09_Thg 10_Thg 11_Thg 12".split("_"),monthsParseExact:!0,weekdays:"ch\u1ee7 nh\u1eadt_th\u1ee9 hai_th\u1ee9 ba_th\u1ee9 t\u01b0_th\u1ee9 n\u0103m_th\u1ee9 s\xe1u_th\u1ee9 b\u1ea3y".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(e){return/^ch$/i.test(e)},meridiem:function(e,t,n){return e<12?n?"sa":"SA":n?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [n\u0103m] YYYY",LLL:"D MMMM [n\u0103m] YYYY HH:mm",LLLL:"dddd, D MMMM [n\u0103m] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[H\xf4m nay l\xfac] LT",nextDay:"[Ng\xe0y mai l\xfac] LT",nextWeek:"dddd [tu\u1ea7n t\u1edbi l\xfac] LT",lastDay:"[H\xf4m qua l\xfac] LT",lastWeek:"dddd [tu\u1ea7n tr\u01b0\u1edbc l\xfac] LT",sameElse:"L"},relativeTime:{future:"%s t\u1edbi",past:"%s tr\u01b0\u1edbc",s:"v\xe0i gi\xe2y",ss:"%d gi\xe2y",m:"m\u1ed9t ph\xfat",mm:"%d ph\xfat",h:"m\u1ed9t gi\u1edd",hh:"%d gi\u1edd",d:"m\u1ed9t ng\xe0y",dd:"%d ng\xe0y",w:"m\u1ed9t tu\u1ea7n",ww:"%d tu\u1ea7n",M:"m\u1ed9t th\xe1ng",MM:"%d th\xe1ng",y:"m\u1ed9t n\u0103m",yy:"%d n\u0103m"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}})}(n(2426))}}]);
//# sourceMappingURL=804.cfb10864.chunk.js.map